"use strict";sap.ui.define(["sap/ui/model/json/JSONModel","ui5Extra/ODataFetch/ODataFetch","ui5Extra/Toast/Toast","./BaseController"],function(t,e,a,s){function o(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const r=o(e);const c=o(a);const i=o(s);const n=i.extend("dev.carlosorozco.ui5Extra.samples.controller.ODataFetchView",{constructor:function e(){i.prototype.constructor.apply(this,arguments);this.dataModel=new t({list:[],busy:false})},onInit:function t(){this.getView()?.setModel(this.dataModel,"data")},readData:async function t(){if(!this.oFetcher){this.oFetcher=new r("https://cors-anywhere.herokuapp.com/https://services.odata.org/V3/OData/OData.svc/",{useBatch:false,maxDataServiceVersion:"3.0"})}this.dataModel.setProperty("/busy",true);try{this.dataModel.setProperty("/list",[]);const t=await this.oFetcher.read("/Products",{aborterId:"read"});const{oData:e,oResponse:a}=t;this.dataModel.setProperty("/list",e.results);c.success("Data received")}catch(t){c.error("Data failed")}this.dataModel.setProperty("/busy",false)}});return n});
//# sourceMappingURL=ODataFetch.controller.js.map